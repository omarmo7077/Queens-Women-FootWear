<!-- cart -->

<head>
    <meta charset="UTF-8">
    <style data-styles="">
        ion-icon {
            visibility: hidden
        }

        .hydrated {
            visibility: inherit
        }

        body {
            padding-top: 1px !important;
        }
    </style>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Footcap - Find your footware</title>

    <!-- 
    - favicon
  -->
    <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">

    <!-- 
    - custom css link
  -->
    <link rel="stylesheet" href="./assets/css/style.css">

    <!-- 
    - google font link
  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link
        href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400;500;600;700&amp;family=Roboto:wght@400;500;700&amp;display=swap"
        rel="stylesheet">

    <!-- bootstrap -->

    <!-- 
    - preload banner
  -->
    <link rel="preload" href="./assets/images/hero-banner.png" as="image">
    <!-- Bootstrap Icons CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


</head>
<main>
    <div id="preloader">
        <div class="spinner">
            <div class="double-bounce1"></div>
            <div class="double-bounce2"></div>
        </div>
    </div>

    <div class="product-area" id="product-area">
        <div class="progress-bar-container flex center">
            <div class="progress-bar flex center">
                <div class="step completed">
                    <span class="step-number targeted-step w-h-auto" id="target-1">
                        <div class="flex center align-items p-4">
                            <i class="bi bi-bag-check"></i>
                        </div>
                    </span>
                    <span class="step-label">Cart</span>

                </div>
                <div id="connector1" class="connector"></div>
                <div class="step completed">
                    <span class="step-number w-h-auto" id="target-2">
                        <div class="flex center align-items p-4">
                            <i class="bi bi-info-lg"></i>
                        </div>
                    </span>
                    <span class="step-label">Information</span>
                </div>
                <div id="connector2" class="connector"></div>
                <div class="step completed">
                    <span class="step-number w-h-auto" id="target-3">
                        <div class="flex center align-items p-4">
                            <i class="bi bi-list-check"></i>
                        </div>
                    </span>
                    <span class="step-label">summary</span>
                </div>
                <div id="connector3" class="connector"></div>

                <div class="step completed">
                    <span class="step-number w-h-auto" id="target-4">
                        <div class="flex center align-items p-4">
                            <i class="bi bi-credit-card"></i>
                        </div>

                    </span>
                    <span class="step-label">Payment</span>
                </div>

            </div>

        </div>
        <section class="section product p-0 mt-10">

            <div id="cart-card">
                <div class="flex center  m-10 height-70 " id="Cart">
                    <div class="width-90 cart-bg over-flow-auto box-with-shadow flex-direction-column" id="cartarea">
                        <div class="m-10 flex center">
                            <h3>Shopping Cart</h3>
                        </div>
                        <div class="flex center">

                            <ul id="cart-items">

                            </ul>

                            <!-- 
                            <script>
                                // Retrieve cart data from local storage
                                let cart = JSON.parse(localStorage.getItem('cart'));

                                // Get a reference to the cart-items ul element
                                let cartList = document.getElementById('cart-items');

                                // Check if cart data exists
                                if (cart && cart.length > 0) {
                                    // Loop through each item in the cart
                                    cart.forEach(function (item, index) {
                                        // Create a new li element to display the item
                                        let listItem = document.createElement('li');

                                        // Create a div for the item details
                                        let itemDetailsDiv = document.createElement('div');
                                        itemDetailsDiv.classList.add('flex', 'center', 'align-items');

                                        // Create a div for the item image
                                        let imageDiv = document.createElement('div');
                                        let itemImage = document.createElement('img');
                                        itemImage.src = item.photourl; // Set the src attribute to the photourl value
                                        imageDiv.appendChild(itemImage);
                                        itemDetailsDiv.appendChild(imageDiv);

                                        // Create a div for the product title
                                        let textDiv = document.createElement('div');
                                        let itemBrandName = document.createElement('h5');
                                        let itemPrice = document.createElement('h5');
                                        let itemTitle = document.createElement('p');
                                        let itemsize = document.createElement('p');
                                        let itemColor = document.createElement('p');

                                        itemBrandName.textContent = item.brand;
                                        itemTitle.textContent = item.title;
                                        itemsize.textContent = item.productSize;
                                        itemColor.textContent = item.productColor;
                                        itemPrice.textContent = item.price;

                                        textDiv.appendChild(itemBrandName);
                                        textDiv.appendChild(itemTitle);
                                        textDiv.appendChild(itemsize);
                                        textDiv.appendChild(itemColor);
                                        textDiv.appendChild(itemPrice);


                                        textDiv.classList.add("Product-record");
                                        // Create a div for the brand name



                                        itemDetailsDiv.appendChild(textDiv);


                                        // Create a span for the delete icon
                                        let deleteIcon = document.createElement('i');
                                        deleteIcon.className = 'bi-bag-dash i-cart';
                                        deleteIcon.style.cursor = 'pointer';
                                        deleteIcon.addEventListener('click', function () {

                                            // Reload the page
                                            location.reload();

                                            // Remove the item from the cart array
                                            cart.splice(index, 1);

                                            // Remove the item from the UI
                                            listItem.remove();

                                            // Update local storage
                                            localStorage.setItem('cart', JSON.stringify(cart));


                                        });
                                        listItem.appendChild(itemDetailsDiv);
                                        listItem.appendChild(deleteIcon);

                                        // Append the li element to the ul element
                                        cartList.appendChild(listItem);
                                    });
                                } else {
                                    // If the cart is empty or null, display a message
                                    cartList.textContent = 'Your cart is empty';

                                    // Add classes to the cart area
                                    let cartArea = document.getElementById("cartarea");
                                    cartArea.classList.add('flex', 'center', 'align-items');
                                }
                            </script> -->

                            <script>
                                // Retrieve cart data from local storage
                                let cart = JSON.parse(localStorage.getItem('cart'));

                                // Get a reference to the cart-items ul element
                                let cartList = document.getElementById('cart-items');

                                // Initialize total amount
                                let totalAmount = 0;

                                // Check if cart data exists
                                if (cart && cart.length > 0) {
                                    // Loop through each item in the cart
                                    cart.forEach(function (item, index) {
                                        // Create a new li element to display the item
                                        let listItem = document.createElement('li');

                                        // Create a div for the item details
                                        let itemDetailsDiv = document.createElement('div');
                                        itemDetailsDiv.classList.add('flex', 'center', 'align-items');

                                        // Create a div for the item image
                                        let imageDiv = document.createElement('div');
                                        let itemImage = document.createElement('img');
                                        itemImage.src = item.photourl; // Set the src attribute to the photourl value
                                        imageDiv.appendChild(itemImage);
                                        itemDetailsDiv.appendChild(imageDiv);

                                        // Create a div for the product title
                                        let textDiv = document.createElement('div');
                                        let itemBrandName = document.createElement('h5');
                                        let itemPrice = document.createElement('h5');
                                        let itemTitle = document.createElement('p');
                                        let itemSize = document.createElement('p');
                                        let itemColor = document.createElement('p');

                                        itemBrandName.textContent = item.brand;
                                        itemTitle.textContent = item.title;
                                        itemSize.textContent = item.productSize;
                                        itemColor.textContent = item.productColor;
                                        itemPrice.textContent = item.price;

                                        textDiv.appendChild(itemBrandName);
                                        textDiv.appendChild(itemTitle);
                                        textDiv.appendChild(itemSize);
                                        textDiv.appendChild(itemColor);
                                        textDiv.appendChild(itemPrice);

                                        textDiv.classList.add("Product-record");

                                        itemDetailsDiv.appendChild(textDiv);

                                        // Calculate total amount
                                        totalAmount += parseFloat(item.price.replace(" EGP", ""));

                                        // Create a span for the delete icon
                                        let deleteIcon = document.createElement('i');
                                        deleteIcon.className = 'bi-bag-dash i-cart';
                                        deleteIcon.style.cursor = 'pointer';
                                        deleteIcon.addEventListener('click', function () {

                                            // Reload the page
                                            location.reload();

                                            // Remove the item from the cart array
                                            cart.splice(index, 1);

                                            // Remove the item from the UI
                                            listItem.remove();

                                            // Update local storage
                                            localStorage.setItem('cart', JSON.stringify(cart));
                                        });

                                        listItem.appendChild(itemDetailsDiv);
                                        listItem.appendChild(deleteIcon);

                                        // Append the li element to the ul element
                                        cartList.appendChild(listItem);
                                    });

                                    // Create a div for the total amount
                                    let totalAmountDiv = document.createElement('div');
                                    totalAmountDiv.className = 'total-amount flex center m-5';

                                    // Create an h5 element for the total amount
                                    let totalAmountH5 = document.createElement('h5');
                                    totalAmount.className = 'total-amount'
                                    totalAmountH5.textContent = `Total : ${totalAmount} EGP`;

                                    // Append the h5 element to the total amount div
                                    totalAmountDiv.appendChild(totalAmountH5);

                                    // Append the total amount div to the cart area
                                    document.getElementById('cartarea').appendChild(totalAmountDiv);

                                } else {
                                    // If the cart is empty or null, display a message
                                    cartList.textContent = 'Your cart is empty';

                                    // Add classes to the cart area
                                    let cartArea = document.getElementById("cartarea");
                                    cartArea.classList.add('flex', 'center', 'align-items');
                                }


                            </script>








                        </div>




                    </div>


                </div>
                <div class="flex center" id="next1Button">

                    <button id="addToCartButton" class="Add-to-Cart" onclick="Next1()">Next
                        <i class="bi bi-arrow-right"></i>
                    </button>

                </div>
            </div>


            </script>
            <div id="Info-card" class="hidden">
                <div class="flex center  m-10  height-50 " id="Information">
                    <div class="width-90 padding-10 cart-bg over-flow-auto box-with-shadow " id="cartarea">
                        <div class="m-10 flex center align-items">
                            <h3>Personal Information</h3>
                        </div>

                        <div class="flex center flex-wrap">
                            <div class="fit-content m-5">
                                <h5 class="h5-form">First-Name</h5>
                                <input type="text" id="firstName" name="First-name" required="" class="input-cart">
                            </div>
                            <div class="fit-content m-5">
                                <h5 class="h5-form">Last-Name</h5>
                                <input type="text" id="lastName" name="Last-name" required="" class="input-cart">
                            </div>
                            <div class="fit-content m-5">
                                <h5 class="h5-form">Email</h5>
                                <input type="email" id="email" name="email" required="" class="input-cart">
                            </div>
                            <div class="fit-content m-5">
                                <h5 class="h5-form">Phone-Number</h5>
                                <input type="text" id="phoneNumber" name="Phone-number" required="" class="input-cart">
                            </div>
                            <div class="fit-content m-5">
                                <h5 class="h5-form">House-Phone-Number</h5>
                                <input type="text" id="housePhoneNumber" name="House-phone-number"
                                    placeholder="optional.." class="input-cart">
                            </div>
                            <div class="fit-content m-5">
                                <h5 class="h5-form">City</h5>
                                <select id="city" name="city" required="" class="input-cart select-city">
                                    <option value="">Select a city</option>
                                    <option value="Zagaig"> Zagaig</option>
                                    <option value="Belbis">Al Qanayat</option>
                                    <option value="Faqus">Faqus</option>
                                    <option value="Abu Hammad">Abu Hammad</option>
                                    <option value="Hihya">Hihya</option>
                                    <option value="Abu Kibir">Abu Kibir</option>
                                    <option value="Saleheyah Al Gadidah">Saleheyah Al Gadidah</option>
                                    <option value="Kafr Saqr">Kafr Saqr</option>
                                    <option value="Minya Al Qamh">Minya Al Qamh</option>
                                    <option value="Dyarb Negm">Dyarb Negm</option>
                                    <option value="Abo Hammaed">Abo Hammaed</option>
                                    <option value="Al Qorin">Al Qorin</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="fit-content m-5">
                                <h5 class="h5-form">Area</h5>
                                <input type="text" id="area" name="text" placeholder="ex: el-kawmia" required=""
                                    class="input-cart">
                            </div>
                            <div class="fit-content m-5">
                                <h5 class="h5-form">House-Number</h5>
                                <input type="text" id="houseNumber" name="text" placeholder="ex:11" required=""
                                    class="input-cart">
                            </div>
                            <div class="fit-content m-5">
                                <h5 class="h5-form">Floor-Number</h5>
                                <input type="text" id="floorNumber" name="text" placeholder="ex:3" required=""
                                    class="input-cart">
                            </div>
                        </div>
                        <div class="">
                            <div class="fit-content m-5 width-available">
                                <h5>Address</h5>
                                <textarea id="address" name="text" required=""
                                    class="input-cart textarea-address width-available"></textarea>
                            </div>
                        </div>

                        <div class="flex center">
                            <span class="small-txt m-5 txt-center line-height-15"> you can delete Stored information by
                                clicking here <i onclick="removePersonalInfo()"
                                    class="bi bi-eraser pointer  icon-hov-del"></i>
                            </span>
                            <script>
                                function removePersonalInfo() {
                                    localStorage.removeItem('personal_info');
                                    Swal.fire({
                                        icon: 'success',
                                        title: 'Deleted',
                                        showConfirmButton: false,
                                        timer: 1500 // Close the alert after 1.5 seconds
                                    });
                                    // Optionally, you can also clear the form fields here
                                }
                            </script>
                        </div>
                    </div>

                    <script>
                        document.addEventListener('DOMContentLoaded', function () {
                            // Load form data from local storage
                            loadpersonal_info();

                            // Add event listeners to save data when input changes
                            document.querySelectorAll('.input-cart').forEach(input => {
                                input.addEventListener('input', savepersonal_info);
                                input.addEventListener('input', checkFormValidity);
                            });
                            document.querySelectorAll('.select-city').forEach(select => {
                                select.addEventListener('change', savepersonal_info);
                                select.addEventListener('change', checkFormValidity);
                            });

                            // Initially check form validity
                            checkFormValidity();
                        });

                        function savepersonal_info() {
                            let personal_info = {
                                firstName: document.getElementById('firstName').value,
                                lastName: document.getElementById('lastName').value,
                                email: document.getElementById('email').value,
                                phoneNumber: document.getElementById('phoneNumber').value,
                                housePhoneNumber: document.getElementById('housePhoneNumber').value,
                                city: document.getElementById('city').value,
                                area: document.getElementById('area').value,
                                houseNumber: document.getElementById('houseNumber').value,
                                floorNumber: document.getElementById('floorNumber').value,
                                address: document.getElementById('address').value
                            };

                            // Save form data to local storage
                            localStorage.setItem('personal_info', JSON.stringify(personal_info));
                        }

                        function loadpersonal_info() {
                            let personal_info = JSON.parse(localStorage.getItem('personal_info'));

                            if (personal_info) {
                                document.getElementById('firstName').value = personal_info.firstName || '';
                                document.getElementById('lastName').value = personal_info.lastName || '';
                                document.getElementById('email').value = personal_info.email || '';
                                document.getElementById('phoneNumber').value = personal_info.phoneNumber || '';
                                document.getElementById('housePhoneNumber').value = personal_info.housePhoneNumber || '';
                                document.getElementById('city').value = personal_info.city || '';
                                document.getElementById('area').value = personal_info.area || '';
                                document.getElementById('houseNumber').value = personal_info.houseNumber || '';
                                document.getElementById('floorNumber').value = personal_info.floorNumber || '';
                                document.getElementById('address').value = personal_info.address || '';
                            }
                        }

                        function checkFormValidity() {
                            const requiredFields = ['firstName', 'lastName', 'email', 'phoneNumber', 'city', 'area', 'address'];
                            let isValid = true;

                            requiredFields.forEach(field => {
                                const input = document.getElementById(field);
                                if (!input.value.trim()) {
                                    isValid = false;
                                }
                            });

                            const nextButton = document.getElementById('nextButton');
                            if (isValid) {
                                nextButton.style.opacity = 1;
                                nextButton.disabled = false;
                            } else {
                                nextButton.style.opacity = 0.5;
                                nextButton.disabled = true;
                            }
                        }
                    </script>
                </div>

                <div class="flex center  m-10  height-auto" id="Information">
                    <div class="width-90 padding-10 cart-bg over-flow-auto box-with-shadow " id="cartarea">
                        <div class="m-10 flex center align-items">
                            <h3>Shipping Information</h3>
                        </div>

                        <div class="flex center align-items m-10">
                            <h5 class="small-txt  txt-center line-height-15 flex align-items">
                                shipping fees will be :
                                <h5 id="shipping-fees" class="ml-3"></h5>
                            </h5>
                        </div>
                        <div class="flex center align-items m-10">
                            <button id="addToCartButton" class="Add-to-Cart font-smaller flex center align-items"
                                onclick="showMoreShippingData()">
                                <p class="font-smaller" id="shiptxtinfo">Show More Info</p>
                                <i id="shippininfoicon" class="bi bi-plus"></i>
                            </button>
                        </div>

                        <div class="hidden" id="shippingInfo">
                            <div class="flex center align-items">
                                <span class="small-txt m-5 txt-center line-height-15 flex align-items">
                                    - Your shipment is expected to arrive within a maximum of four days from the date of
                                    your order!
                                </span>
                            </div>
                            <div class="flex-column flex-grow">
                                <div class="flex center">
                                    <span class="small-txt m-5 txt-center line-height-15">The shipping cost will be 50
                                        EGP - if your
                                        city is not Zagazig</span>
                                </div>
                                <div class="flex center">
                                    <span class="small-txt m-5 txt-center line-height-15">- Free shipping on orders over
                                        1000
                                        EGP</span>
                                </div>
                            </div>
                        </div>
                        <script>
                            function showMoreShippingData() {
                                const shippingInfo = document.getElementById('shippingInfo');
                                const addToCartButton = document.getElementById('shiptxtinfo');
                                const icon = document.getElementById('shippininfoicon');
                                icon.classList = '';

                                if (shippingInfo) {
                                    if (shippingInfo.classList.contains('hidden')) {
                                        shippingInfo.classList.remove('hidden');
                                        addToCartButton.innerHTML = 'Hide Shipping Info';
                                        icon.classList = 'bi bi-dash';
                                    } else {
                                        shippingInfo.classList.add('hidden');
                                        addToCartButton.innerHTML = 'Show More Info';
                                        icon.classList = 'bi bi-plus';
                                    }
                                }
                            }

                            function updateShippingFees() {
                                const city = document.getElementById("city").value;
                                let shippingFees = 100; // default value

                                if (city === "Zagaig") {
                                    shippingFees = 20;
                                } else if (["Belbis", "Faqus", "Abu Hammad", "Hihya", "Abu Kibir", "Saleheyah Al Gadidah", "Kafr Saqr", "Minya Al Qamh", "Dyarb Negm", "Abo Hammaed", "Al Qorin"].includes(city)) {
                                    shippingFees = 50;
                                } else if (city === "Other") {
                                    shippingFees = 100;
                                }

                                document.getElementById("shipping-fees").innerText = shippingFees + " EGP";
                                document.getElementById("shipping-fees-total").innerText = shippingFees + "EGP"; // Update summary shipping fees
                            }

                            // Call the function when the page loads
                            document.addEventListener('DOMContentLoaded', updateShippingFees);

                            // Call the function when the city select changes
                            document.getElementById("city").addEventListener("change", updateShippingFees);
                        </script>
                    </div>
                </div>
                <div class="flex center" id="next2Button">
                    <button type="button" class="Add-to-Cart" id="perv1Button" onclick="perv1()">
                        <i class="bi bi-arrow-left"></i>
                    </button>
                    <button id="nextButton" class="Add-to-Cart" onclick="Next2()" disabled style="opacity: 0.5;">
                        Next <i class="bi bi-arrow-right"></i>
                    </button>
                </div>
            </div>


            <div id="summary-card" class="hidden">
                <div class="flex center m-10 " id="Summary">
                    <div class="width-90 cart-bg over-flow-auto box-with-shadow " id="cartarea">
                        <div class="m-10 flex center">
                            <h3>Order Summary</h3>
                        </div>
                        <div class="m-20 flex center align-items  m-10">
                            <h5>Cart Total :</h5><span id="cart-total" class="ml-3"></span>
                        </div>
                        <div class="m-20 flex center align-items  m-10">
                            <h5>Shipping Fees :</h5><span id="shipping-fees-total" class="ml-3"></span>
                        </div>
                        <div class="m-20 flex center align-items m-10">
                            <h5>Total Price :</h5><span id="total-price" class="ml-3"></span>
                        </div>

                    </div>
                </div>
                <div class="flex center " id="next3Button">
                    <button type="button" class="Add-to-Cart" id="perv3Button" onclick="perv2()">
                        <i class="bi bi-arrow-left"></i>
                    </button>
                    <button id="Next3" class="Add-to-Cart" onclick="Next3()">Next
                        <i class="bi bi-arrow-right"></i>
                    </button>
                </div>
                <script>

                    function updateShippingFees() {
                        const city = document.getElementById("city").value;
                        let shippingFees;

                        if (city === "Zagaig") {
                            shippingFees = 20;
                        } else if (["Belbis", "Faqus", "Abu Hammad", "Hihya", "Abu Kibir", "Saleheyah Al Gadidah", "Kafr Saqr", "Minya Al Qamh", "Dyarb Negm", "Abo Hammaed", "Al Qorin"].includes(city)) {
                            shippingFees = 50;
                        } else if (city === "Other") {
                            shippingFees = 100;
                        } else {
                            shippingFees = 0; // default value if no city is selected
                        }

                        // Update the shipping fees in the DOM
                        document.getElementById("shipping-fees").innerText = shippingFees;
                        document.getElementById("shipping-fees-total").innerText = shippingFees;

                        // Store the shipping fees in localStorage
                        localStorage.setItem('shippingFees', shippingFees);

                        // Update the cart summary
                        updateCartSummary();
                    }

                    function updateCartSummary() {
                        // Retrieve cart items from localStorage
                        let cart = localStorage.getItem('cart');

                        // Check if the cart is not empty
                        if (cart) {
                            // Parse the JSON string into an array
                            cart = JSON.parse(cart);

                            // Initialize total price
                            let totalPrice = 0;

                            // Iterate through cart items and sum up the prices
                            cart.forEach(item => {
                                // Extract the numeric value from the price string and convert it to a number
                                let price = parseFloat(item.price.replace(' EGP', ''));
                                totalPrice += price;
                            });

                            // Update the cart total element in the DOM
                            document.getElementById('cart-total').innerText = `${totalPrice} EGP`;

                            // Retrieve the shipping fees from the DOM and convert it to a number
                            let shippingFees = parseFloat(document.getElementById('shipping-fees-total').innerText);

                            // Calculate the final price
                            let finalPrice = totalPrice + shippingFees;

                            // Update the total price element in the DOM
                            document.getElementById('total-price').innerText = `${finalPrice} EGP`;
                        }
                    }

                    // Function to observe changes in the shipping fees element
                    function observeShippingFees() {
                        const shippingFeesElement = document.getElementById('shipping-fees-total');
                        const observer = new MutationObserver(updateCartSummary);

                        // Observe changes to the text content of the shipping fees element
                        observer.observe(shippingFeesElement, { childList: true, characterData: true, subtree: true });
                    }

                    // Call the function to update the shipping fees on page load
                    window.onload = function () {
                        updateShippingFees();
                        observeShippingFees();
                    };

                    // Add event listener to update shipping fees when the city select changes
                    document.getElementById("city").addEventListener("change", updateShippingFees);
                </script>

            </div>

            <div id="Payment-card" class="hidden">
                <div class="flex center width-auto m-10" id="Payment">

                    <div class="width-90 cart-bg padding-10 over-flow-auto box-with-shadow flex align-items flex-direction-column center"
                        id="cartarea">
                        <div class="m-10">
                            <h3>Payment Method</h3>
                        </div>
                        <div class="flex center">
                            <div class="flex center col-u-991">
                                <div class="flex center p-10 flex-direction-column align-items" id="cash">
                                    <img class="img-payment payment-option" src="./assets/images/cash.png">
                                    <h5 class="mt-10">Cash on Delivery</h5>
                                </div>
                                <div class="flex center p-10 flex-direction-column align-items" id="visa">
                                    <img class="img-payment payment-option" src="./assets/images/Visa.svg">
                                    <h5 class="mt-10">Pay With Visa</h5>
                                </div>
                                <div class="flex center p-10 flex-direction-column align-items" id="fawry">
                                    <img class="img-payment payment-option" src="./assets/images/Fawry.svg">
                                    <h5 class="mt-10">Pay With Fawry</h5>
                                </div>
                            </div>
                            <script>
                                // Get all payment options
                                let paymentOptions = document.querySelectorAll('.payment-option');

                                // Add click event listener to each payment option
                                paymentOptions.forEach(option => {
                                    option.addEventListener('click', function () {
                                        // Remove green border from all payment options
                                        paymentOptions.forEach(opt => {
                                            opt.classList.remove('selected');
                                        });

                                        // Add green border to the clicked payment option
                                        this.classList.add('selected');
                                    });
                                });

                            </script>
                        </div>
                    </div>
                </div>
                <div class="flex center " id="submit-order">
                    <button type="button" class="Add-to-Cart" id="perv4Button" onclick="perv3()">
                        <i class="bi bi-arrow-left"></i>
                    </button>
                    <button id="Submit" class="Add-to-Cart" onclick="submitOrder()">Submit Order
                        <i class="bi bi-check2-all"></i>
                    </button>
                    <!-- <script>
                        function submitOrder() {
                            // Retrieve cart data, personal info, and shipping fees from local storage
                            let cart = JSON.parse(localStorage.getItem('cart'));
                            let personal_info = JSON.parse(localStorage.getItem('personal_info'));
                            let shippingFees = document.getElementById("shipping-fees").innerText.replace(" EGP", "");

                            // Create the order object
                            let order = {
                                cart: cart,
                                personal_info: personal_info,
                                shippingFees: parseFloat(shippingFees)
                            };

                            // Send the order to the server
                            fetch('https://queen-s-footwear-default-rtdb.firebaseio.com/orders.json', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(order)
                            })
                                .then(response => response.json())
                                .then(data => {

                                    // Optionally, clear the local storage and redirect to a confirmation page
                                    localStorage.removeItem('cart');
                                    Swal.fire({
                                        icon: "success",
                                        title: "Order submitted successfully!",
                                        showConfirmButton: false,
                                        timer: 1500, // Close the alert after 1.5 seconds
                                    });
                                    // Redirect to a confirmation page (if needed)
                                    // window.location.href = 'confirmation_page_url';
                                })
                                .catch(error => {
                                    console.error('Error submitting order:', error);
                                    Swal.fire({
                                        icon: 'error',
                                        title: 'Error',
                                        text: 'An error occurred while processing your order try again soon!',
                                        showConfirmButton: false,
                                        timer: 1500, // Close the alert after 1.5 seconds
                                    });
                                });
                        }
                    
                    </script> -->
                    <script>
                        function submitOrder() {
                            // Retrieve cart data, personal info, and shipping fees from local storage
                            let cart = JSON.parse(localStorage.getItem('cart'));
                            let personal_info = JSON.parse(localStorage.getItem('personal_info'));
                            let shippingFees = document.getElementById("shipping-fees").innerText.replace(" EGP", "");

                            // Create the order object
                            let order = {
                                cart: cart,
                                personal_info: personal_info,
                                shippingFees: parseFloat(shippingFees)
                            };

                            // Send the order to the server
                            fetch('https://queen-s-footwear-default-rtdb.firebaseio.com/orders.json', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(order)
                            })
                                .then(response => {
                                    if (!response.ok) {
                                        throw new Error('Network response was not ok');
                                    }
                                    return response.json();
                                })
                                .then(data => {
                                    // Optionally, clear the local storage and redirect to a confirmation page
                                    localStorage.removeItem('cart');
                                    Swal.fire({
                                        icon: "success",
                                        title: "Order submitted successfully!",
                                        showConfirmButton: false,
                                        timer: 1500, // Close the alert after 1.5 seconds
                                    });
                                    // Redirect to a confirmation page (if needed)
                                    // window.location.href = 'confirmation_page_url';
                                })
                                .catch(error => {
                                    console.error('Error submitting order:', error);
                                    Swal.fire({
                                        icon: 'error',
                                        title: 'Error',
                                        text: 'An error occurred while processing your order. Please try again soon!',
                                        showConfirmButton: false,
                                        timer: 1500, // Close the alert after 1.5 seconds
                                    });
                                });
                        }
                    </script>

                </div>
            </div>

        </section>
    </div>







    <script>
        // navigation js
        function Next1() {
            // Hide the Cart section and Next1 button
            document.getElementById('cart-card').classList.add('hidden');


            // Show the Personal Info section and Next2 button
            document.getElementById('Info-card').classList.remove('hidden');



            document.getElementById('target-1').classList.remove('targeted-step');
            document.getElementById('target-2').classList.add('targeted-step');

            document.getElementById('connector1').classList.add('connector-after');

        }

        function Next2() {
            // Hide the Personal Info section and Next2 button
            document.getElementById('Info-card').classList.add('hidden');


            // Show the Payment section and Checkout button
            document.getElementById('summary-card').classList.remove('hidden');


            document.getElementById('target-2').classList.remove('targeted-step');
            document.getElementById('target-3').classList.add('targeted-step');

            document.getElementById('connector2').classList.add('connector-after');



        }
        function Next3() {
            // Hide the Personal Info section and Next2 button
            document.getElementById('summary-card').classList.add('hidden');
            document.getElementById('Payment-card').classList.remove('hidden');

            document.getElementById('connector3').classList.add('connector-after');
            document.getElementById('target-3').classList.remove('targeted-step');
            document.getElementById('target-4').classList.add('targeted-step');

        }
        function perv1() {
            document.getElementById('Info-card').classList.add('hidden');
            document.getElementById('cart-card').classList.remove('hidden');

            document.getElementById('target-2').classList.remove('targeted-step');
            document.getElementById('target-1').classList.add('targeted-step');

            document.getElementById('connector1').classList.remove('connector-after');

        }
        function perv2() {
            document.getElementById('summary-card').classList.add('hidden');
            document.getElementById('Info-card').classList.remove('hidden');

            document.getElementById('target-3').classList.remove('targeted-step');
            document.getElementById('target-2').classList.add('targeted-step');

            document.getElementById('connector2').classList.remove('connector-after');

        }
        function perv3() {
            document.getElementById('Payment-card').classList.add('hidden');
            document.getElementById('summary-card').classList.remove('hidden');

            document.getElementById('target-4').classList.remove('targeted-step');
            document.getElementById('target-3').classList.add('targeted-step');

            document.getElementById('connector3').classList.remove('connector-after');

        }

        // navigation js

    </script>
    <!-- // -->
    </section>



    </div>
</main>






<!-- 
    - #GO TO TOP
  -->

<a href="#top" class="go-top-btn" data-go-top="">
    <ion-icon name="arrow-up-outline" role="img" class="md hydrated" aria-label="arrow up outline"></ion-icon>
</a>

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule="" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
<script>
    function showPreloader() {
        document.getElementById('preloader').classList.remove('hidden');


    }

    // Function to hide preloader
    function hidePreloader() {
        document.getElementById('preloader').classList.add('hidden');


    }

    // Fetch product details after 2 seconds
    setTimeout(() => {

        hidePreloader(); // Hide preloader after 2 seconds
        // Fetch product details
    }, 1000);
</script>